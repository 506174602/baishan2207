<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>const</title>

</head>

<body>
    <script>
        // es5
        Object.defineProperty(window, 'PI', {
            value: '3.1415926',
            writable: true // 默认值是false  不可写
        })
        PI = 5; // writable为false  不可写
        console.log('es5----pi:', PI)

        // es6 const 定义常量
        /**
         * 1.声明时必须立即赋值,且之后不允许修改常量值
         * 2.不允许重复声明
         * 3.存在块级作用域
         * 4.不存在变量提升
         */
        const a1 = 1;
        // a1 = 2; // Assignment to constant variable.
        console.log('a1----', a1)
        // const a2; // Missing initializer in const declaration
        // a2 = 2;
        // console.log('a2----', a2)


        // const a2 = 3; // Identifier 'a2' has already been declared
        // console.log('a2---2:', a2)


        if (true) {
            // 不存在变量提升
            // console.log('if true---内a2---前:', a2) // Cannot access 'a2' before initialization
            const a2 = 21;
            console.log('if true---内a2---后:', a2)
        } else {
            console.log('if false---内a2:', a2) // a2 is not defined
        }


        const obj = {
            name: '孔令思困了',
            age: 18,
            skill: {
                name: 'html',
                year: 5
            }
        }
        Object.freeze(obj)

        obj.school = 'byesame'
        obj.age = 20
        Object.freeze(obj.skill)
        obj.skill.year = 7
        console.log('obj----', obj)

        const arr = [1, 2, 3, 4]
        Object.freeze(arr)
        // arr.push(5) // Cannot add property 4, object is not extensible
        console.log('arr----', arr)

        /**
         * 1.const 声明的是一个只读的常量, 一旦声明,就不能改变
         * 2.const的作用域和let相同, 只能在声明所在的块级作用域内有效
         * 3.const命令声明的常量和let一样,不能提升,只能在声明位置后使用
         * 4.es6中,var和function命令声明的全局变量,仍然是顶层对象的属性;
         *   let const命令声明的全局变量不属于顶层对象属性
         *      let a = 1;
         *      console.log(window.a) // undefined
         */
    </script>
</body>

</html>